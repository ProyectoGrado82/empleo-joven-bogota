# -*- coding: utf-8 -*-
"""Empleo_Joven_Bogot√°.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1-oaOAmz9FXPWEiKyCPhWrD1UGwoxue9w
"""

!pip install ipywidgets
from google.colab import output
output.enable_custom_widget_manager()
from IPython.display import display, Markdown

bienvenida = """
# üëã Bienvenido a **Empleo Joven Bogot√°**

üéØ *Transformaci√≥n Digital del Empleo Juvenil: Una Herramienta M√≥vil para Bogot√°*
Desarrollado por estudiantes de Ingenier√≠a de Sistemas de la UNAD.

Este prototipo busca facilitar la inclusi√≥n laboral formal de j√≥venes entre 18 y 28 a√±os en Bogot√°, conect√°ndolos con vacantes que se ajusten a sus habilidades.
Una iniciativa acad√©mica impulsada por:

- Johan Manuel Santana Cortes
- Edison Fernando Cardenas Bermudez
- Danis Daniel Peniche Ospino

üë®‚Äçüè´ Tutor: Daniel Andr√©s Guzm√°n Ar√©valo
üìö Escuela de Ciencias B√°sicas, Tecnolog√≠a e Ingenier√≠a ‚Äì UNAD
üìÖ Abril de 2025

---

üí° **A continuaci√≥n podr√°s registrarte, seleccionar tus habilidades y recibir recomendaciones de empleo seg√∫n tu perfil.**
"""

display(Markdown(bienvenida))

from datetime import datetime
from IPython.display import display, Markdown, clear_output
import ipywidgets as widgets

# --- Datos globales ---
usuarios = []
postulaciones = []

# --- Vacantes unificadas (33 + 5 = 38) ---
vacantes = [
    {"id": 1, "empresa": "TechBogot√°", "titulo": "Desarrollador Junior", "ubicacion": "Bogot√°", "experiencia_requerida": "0-1 a√±os", "habilidades": ["Python", "Trabajo en equipo"], "educacion": "Tecn√≥logo o estudiante de √∫ltimos semestres"},
    {"id": 2, "empresa": "InnovaSoft", "titulo": "Asistente de Soporte T√©cnico", "ubicacion": "Bogot√°", "experiencia_requerida": "No requerida", "habilidades": ["Comunicaci√≥n", "Resoluci√≥n de problemas"], "educacion": "Bachiller o t√©cnico"},
    {"id": 3, "empresa": "EcoData", "titulo": "Analista de Datos en Formaci√≥n", "ubicacion": "Remoto", "experiencia_requerida": "Estudiante en pr√°ctica", "habilidades": ["Excel", "Power BI", "Python"], "educacion": "Estudiante de ingenier√≠a o estad√≠stica"},
     {"id": 4, "empresa": "Datacy", "titulo": "Practicante de an√°lisis de datos", "ubicacion": "Bogot√°", "experiencia_requerida": "Sin experiencia", "habilidades": ["Excel", "Python", "SQL"], "educacion": "Estudiante de ingenier√≠a o afines"},
    {"id": 5, "empresa": "RedFox Digital", "titulo": "Asistente de marketing digital", "ubicacion": "Bogot√°", "experiencia_requerida": "0-1 a√±o", "habilidades": ["Redes sociales", "Canva", "Google Ads"], "educacion": "T√©cnico o tecn√≥logo en mercadeo"},
    {"id": 6, "empresa": "Talento TI", "titulo": "Tester de software junior", "ubicacion": "Remoto", "experiencia_requerida": "Bootcamp o pr√°cticas", "habilidades": ["Pruebas manuales", "Metodolog√≠as √°giles"], "educacion": "Tecn√≥logo en sistemas"},
    {"id": 7, "empresa": "Ecotienda App", "titulo": "Dise√±ador UI/UX en formaci√≥n", "ubicacion": "Remoto", "experiencia_requerida": "No requerida", "habilidades": ["Figma", "Creatividad", "UX Writing"], "educacion": "Dise√±o o ingenier√≠a multimedia"},
    {"id": 8, "empresa": "SoftGroup SAS", "titulo": "Soporte t√©cnico nivel 1", "ubicacion": "Bogot√°", "experiencia_requerida": "0-2 a√±os", "habilidades": ["Atenci√≥n al cliente", "Redes", "Ticketing"], "educacion": "T√©cnico en sistemas"},
    {"id": 9, "empresa": "Nubeco", "titulo": "Asistente de desarrollo front-end", "ubicacion": "Bogot√°", "experiencia_requerida": "Bootcamp o formaci√≥n pr√°ctica", "habilidades": ["HTML", "CSS", "JavaScript"], "educacion": "Tecn√≥logo en desarrollo web"},
    {"id": 10, "empresa": "EduNet", "titulo": "Auxiliar administrativo", "ubicacion": "Bogot√°", "experiencia_requerida": "1 a√±o", "habilidades": ["Excel", "Atenci√≥n telef√≥nica"], "educacion": "T√©cnico en administraci√≥n"},
    {"id": 11, "empresa": "C√≠vicaLab", "titulo": "Asistente de proyectos sociales", "ubicacion": "Bogot√°", "experiencia_requerida": "No requerida", "habilidades": ["Trabajo comunitario", "Organizaci√≥n"], "educacion": "Carreras sociales o human√≠sticas"},
    {"id": 12, "empresa": "TuringCode", "titulo": "Desarrollador m√≥vil en formaci√≥n", "ubicacion": "Remoto", "experiencia_requerida": "Estudiante de √∫ltimos semestres", "habilidades": ["Flutter", "Firebase"], "educacion": "Ingenier√≠a de sistemas"},
    {"id": 13, "empresa": "Innobrand", "titulo": "Dise√±ador gr√°fico junior", "ubicacion": "Bogot√°", "experiencia_requerida": "0-1 a√±o", "habilidades": ["Photoshop", "Illustrator", "Creatividad"], "educacion": "Dise√±o gr√°fico"},
    {"id": 14, "empresa": "MediaConnect", "titulo": "Community Manager Junior", "ubicacion": "Bogot√°", "experiencia_requerida": "0-1 a√±o", "habilidades": ["Redes sociales", "Comunicaci√≥n", "Canva"], "educacion": "Tecnolog√≠a en comunicaci√≥n o mercadeo"},
    {"id": 15, "empresa": "NextSoft", "titulo": "Desarrollador Backend Jr", "ubicacion": "Remoto", "experiencia_requerida": "Bootcamp o pr√°cticas", "habilidades": ["Node.js", "MongoDB", "Git"], "educacion": "Ingenier√≠a de sistemas o afines"},
    {"id": 16, "empresa": "SaludYa", "titulo": "Asistente administrativo en salud", "ubicacion": "Bogot√°", "experiencia_requerida": "1 a√±o", "habilidades": ["Atenci√≥n al cliente", "Excel", "Facturaci√≥n"], "educacion": "T√©cnico en administraci√≥n o salud"},
    {"id": 17, "empresa": "CodeHouse", "titulo": "Frontend Intern", "ubicacion": "Remoto", "experiencia_requerida": "Estudiante activo", "habilidades": ["React", "HTML", "CSS"], "educacion": "Estudiante de ingenier√≠a o dise√±o web"},
    {"id": 18, "empresa": "LogisticsPro", "titulo": "Auxiliar de bodega", "ubicacion": "Bogot√°", "experiencia_requerida": "6 meses", "habilidades": ["Organizaci√≥n", "Trabajo f√≠sico", "Inventario"], "educacion": "Bachiller"},
    {"id": 19, "empresa": "LegalSoft", "titulo": "Digitador de documentos legales", "ubicacion": "Bogot√°", "experiencia_requerida": "1 a√±o", "habilidades": ["Digitaci√≥n", "Ortograf√≠a", "Office"], "educacion": "T√©cnico administrativo o afines"},
    {"id": 20, "empresa": "Financiera Plus", "titulo": "Auxiliar contable junior", "ubicacion": "Bogot√°", "experiencia_requerida": "1 a√±o", "habilidades": ["Contabilidad b√°sica", "Excel", "Normas NIIF"], "educacion": "Tecn√≥logo en contabilidad o finanzas"},
    {"id": 21, "empresa": "AgroTIC", "titulo": "T√©cnico en soporte de campo", "ubicacion": "Zona rural Cundinamarca", "experiencia_requerida": "1 a√±o", "habilidades": ["GPS", "Instalaci√≥n de sensores", "Movilidad"], "educacion": "T√©cnico electr√≥nico o agr√≠cola"},
    {"id": 22, "empresa": "RedDocentes", "titulo": "Monitor acad√©mico virtual", "ubicacion": "Remoto", "experiencia_requerida": "Estudiante o reci√©n egresado", "habilidades": ["Tutor√≠as", "Did√°ctica", "Manejo de plataformas"], "educacion": "Licenciatura o pedagog√≠a"},
    {"id": 23, "empresa": "BioInnova", "titulo": "Asistente de laboratorio", "ubicacion": "Bogot√°", "experiencia_requerida": "Pr√°cticas universitarias", "habilidades": ["Manejo de muestras", "Normas de bioseguridad"], "educacion": "Estudiante de biolog√≠a o qu√≠mica"},
    {"id": 24, "empresa": "GreenTech", "titulo": "Asistente de proyectos ambientales", "ubicacion": "Bogot√°", "experiencia_requerida": "No requerida", "habilidades": ["Excel", "Trabajo en campo", "Reportes"], "educacion": "Estudiante de ingenier√≠a ambiental"},
    {"id": 25, "empresa": "AlphaTrans", "titulo": "Coordinador log√≠stico junior", "ubicacion": "Bogot√°", "experiencia_requerida": "1 a√±o", "habilidades": ["Log√≠stica", "Rutas", "ERP"], "educacion": "T√©cnico o tecn√≥logo en log√≠stica"},
    {"id": 26, "empresa": "DataInsight", "titulo": "Junior Data Analyst", "ubicacion": "Remoto", "experiencia_requerida": "Bootcamp o certificaci√≥n", "habilidades": ["Python", "Pandas", "Excel"], "educacion": "Ingenier√≠a, matem√°ticas o afines"},
    {"id": 27, "empresa": "CineBogot√°", "titulo": "Auxiliar de sala", "ubicacion": "Bogot√°", "experiencia_requerida": "No requerida", "habilidades": ["Atenci√≥n al cliente", "Ventas", "Trabajo en equipo"], "educacion": "Bachiller"},
    {"id": 28, "empresa": "DocuScan", "titulo": "Esc√°ner de documentos", "ubicacion": "Bogot√°", "experiencia_requerida": "6 meses", "habilidades": ["Digitaci√≥n", "Organizaci√≥n", "Office"], "educacion": "T√©cnico administrativo"},
    {"id": 29, "empresa": "AprendeYA", "titulo": "Tutor virtual de matem√°ticas", "ubicacion": "Remoto", "experiencia_requerida": "Estudiante universitario", "habilidades": ["Matem√°ticas", "Comunicaci√≥n", "Did√°ctica"], "educacion": "Licenciatura o ingenier√≠a"},
    {"id": 30, "empresa": "Televoz", "titulo": "Agente call center biling√ºe", "ubicacion": "Bogot√°", "experiencia_requerida": "1 a√±o", "habilidades": ["Ingl√©s", "Atenci√≥n al cliente"], "educacion": "Bachiller o t√©cnico"},
    {"id": 31, "empresa": "Artextil", "titulo": "Operario de confecci√≥n", "ubicacion": "Bogot√°", "experiencia_requerida": "1 a√±o", "habilidades": ["Costura", "Manejo de m√°quinas"], "educacion": "B√°sica primaria"},
    {"id": 32, "empresa": "ByteWeb", "titulo": "Dise√±ador web trainee", "ubicacion": "Remoto", "experiencia_requerida": "Portafolio acad√©mico", "habilidades": ["HTML", "CSS", "Dise√±o responsive"], "educacion": "Dise√±o gr√°fico o desarrollo web"},
    {"id": 33, "empresa": "CulturArte", "titulo": "Gestor cultural auxiliar", "ubicacion": "Bogot√°", "experiencia_requerida": "Voluntariado o pr√°cticas", "habilidades": ["Organizaci√≥n de eventos", "Gesti√≥n cultural"], "educacion": "Ciencias sociales, artes o afines"},
    {"id": 34, "empresa": "MarketExpress", "titulo": "Repartidor urbano", "ubicacion": "Bogot√°", "experiencia_requerida": "No requerida", "habilidades": ["Moto", "Conocimiento de direcciones"], "educacion": "Bachiller"},
    {"id": 35, "empresa": "Superlimpio S.A.", "titulo": "Auxiliar de aseo", "ubicacion": "Bogot√°", "experiencia_requerida": "6 meses", "habilidades": ["Limpieza", "Orden", "Puntualidad"], "educacion": "Bachiller"},
    {"id": 36, "empresa": "Tienda D1", "titulo": "Vendedor tienda a tienda", "ubicacion": "Bogot√°", "experiencia_requerida": "1 a√±o", "habilidades": ["Ventas", "Servicio al cliente"], "educacion": "Bachiller"},
    {"id": 37, "empresa": "TaxiYa", "titulo": "Conductor de taxi", "ubicacion": "Bogot√°", "experiencia_requerida": "2 a√±os", "habilidades": ["Licencia C1 o C2", "GPS", "Servicio"], "educacion": "B√°sica secundaria"},
    {"id": 38, "empresa": "LogiBodega", "titulo": "Auxiliar de bodega", "ubicacion": "Bogot√°", "experiencia_requerida": "No requerida", "habilidades": ["Carga", "Inventario", "Trabajo f√≠sico"], "educacion": "Bachiller"},
]

# --- Widgets de la interfaz ---
habilidades_disponibles = sorted({h for vac in vacantes for h in vac["habilidades"]})
checkboxes = [widgets.Checkbox(value=False, description=h) for h in habilidades_disponibles]

nombre_txt = widgets.Text(placeholder="Tu nombre completo", description="üë§ Nombre:")
correo_txt = widgets.Text(placeholder="Correo electr√≥nico", description="üìß Correo:")
celular_txt = widgets.Text(placeholder="N√∫mero de celular", description="üì± Celular:")
ciudad_txt = widgets.Text(placeholder="Ciudad", description="üìç Ciudad:")
formacion_txt = widgets.Text(placeholder="Formaci√≥n acad√©mica", description="üéì Formaci√≥n:")
boton_confirmar = widgets.Button(description="Registrarse y ver vacantes")

vacantes_dropdown = widgets.Dropdown(options=[], description="üìå Vacante:")
boton_postular = widgets.Button(description="‚úÖ Postularme")

# --- Funciones del sistema ---
def registrar_usuario(nombre, correo, celular, ciudad, formacion, habilidades):
    usuario = {
        "id": len(usuarios) + 1,
        "nombre": nombre,
        "correo": correo,
        "celular": celular,
        "ciudad": ciudad,
        "formacion": formacion,
        "habilidades": habilidades,
        "fecha_registro": datetime.now().isoformat()
    }
    usuarios.append(usuario)
    display(Markdown(f"‚úÖ **Usuario registrado:** `{nombre}`"))
    return usuario["id"]

def postular(usuario_id, vacante_id):
    postulaciones.append({
        "usuario_id": usuario_id,
        "vacante_id": vacante_id,
        "fecha_postulacion": datetime.now().isoformat()
    })
    u = next(u for u in usuarios if u["id"] == usuario_id)
    v = next(v for v in vacantes if v["id"] == vacante_id)
    display(Markdown(f"üì® `{u['nombre']}` se ha postulado a `{v['titulo']}` en **{v['empresa']}**.\nüì± Se contactar√° al n√∫mero: `{u['celular']}`"))

def postular_con_dropdown(b):
    vacante_id = vacantes_dropdown.value
    if vacante_id:
        postular(usuario_id_global, vacante_id)
    else:
        display(Markdown("‚ùå No has seleccionado una vacante."))

boton_postular.on_click(postular_con_dropdown)

def cuando_confirma(b):
    clear_output()
    seleccionadas = [cb.description for cb in checkboxes if cb.value]
    nombre = nombre_txt.value.strip()
    correo = correo_txt.value.strip()
    celular = celular_txt.value.strip()
    ciudad = ciudad_txt.value.strip()
    formacion = formacion_txt.value.strip()

    if not nombre or not correo or not celular:
        display(Markdown("‚ùå **Por favor completa todos los campos obligatorios.**"))
        return

    global usuario_id_global
    usuario_id_global = registrar_usuario(nombre, correo, celular, ciudad, formacion, seleccionadas)

    usuario = next(u for u in usuarios if u["id"] == usuario_id_global)
    habilidades_usuario = set(usuario["habilidades"])
    recomendaciones = [v for v in vacantes if habilidades_usuario.intersection(set(v["habilidades"]))]

    if recomendaciones:
        display(Markdown(f"üéØ **Vacantes recomendadas para `{usuario['nombre']}`:**"))
        opciones = []
        for vac in recomendaciones:
            opciones.append((f"{vac['titulo']} en {vac['empresa']} ({vac['ubicacion']})", vac["id"]))
            print(f"[{vac['id']}] {vac['titulo']} en {vac['empresa']} ({vac['ubicacion']})")
            print(f"   ‚û§ Requisitos: {vac['experiencia_requerida']} | Educaci√≥n: {vac['educacion']}")
            print(f"   ‚û§ Habilidades clave: {', '.join(vac['habilidades'])}\n")

        vacantes_dropdown.options = opciones
        display(Markdown("### ‚úçÔ∏è Elige una vacante y haz clic en 'Postularme':"))
        display(vacantes_dropdown)
        display(boton_postular)
    else:
        display(Markdown("‚ö†Ô∏è No se encontraron vacantes compatibles con tu perfil."))

boton_confirmar.on_click(cuando_confirma)

# --- Interfaz principal ---
display(Markdown("## üßæ Completa tus datos personales"))
display(nombre_txt, correo_txt, celular_txt, ciudad_txt, formacion_txt)

display(Markdown("## üíº Selecciona tus habilidades:"))
for cb in checkboxes:
    display(cb)

display(boton_confirmar)